<?php
$h =  $embedded ? 'h2' : 'h1';
$style = $embedded ? 'display: none;' : '';
?>
<?if($embedded):?>
<h2 class="blocktoggle bitrixdoc dotted" data-block="bitrixdoc">Модуль "КЛАДР в облаке" для 1С-Битрикс</h2>
<?endif?>
<div class="correctwidth">
<div class="bitrixdoc docblock" style="<?=$style?>">
    <a name="bitrix"></a>

    <<?=$h?> class="blocktoggle dotted" data-block="bitrixdoc">
        Модуль "КЛАДР в облаке" для 1С-Битрикс
    </<?=$h?>>
                <span>
                    <noindex><a href="https://github.com/garakh/kladr-bitrix/zipball/master">&#8595;ZIP</a></noindex>
                    <noindex><a href="https://github.com/garakh/kladr-bitrix/tarball/master">&#8595;TAR</a></noindex>
                </span>

    <p>Модуль 1С-Битрикс предоставляющий форму для ввода адреса с автодополнением. В качестве источника данных используется сервис «КЛАДР в облаке»</p>
    <img src="/public/content/kladr-bitrix1.png">

    <div>
        <h3>Установка</h3>
        <ol>
            <li>Загрузите модуль</li>
            <li>Скопируйте в папку «/bitrix/modules»  вашего сайта</li>
            <li>Переименуйте модуль в primepixkladr</li>
            <li>Установите модуль <img src="/public/content/kladr-bitrix2.png"></li>
            <li>Разместите компонент «Форма для ввода адреса» на странице для ввода адреса <img src="/public/content/kladr-bitrix3.png"></li>
            <li>В настройках компонента укажите токен и ключ для подключения к сервису «КЛАДР в облаке» <img src="/public/content/kladr-bitrix4.png"></li>
            <li>Пользуйтесь =)</li>
        </ol>
    </div>

    <div>
        <h3>Параметры компонента «Форма для ввода адреса»</h3>
        <ol>
            <li>
                Основные параметры
                <ol>
                    <li><code>Токен для доступа к КЛАДР API</code> - токен для доступа к сервису</li>
                    <li><code>Ключ для доступа к КЛАДР API</code> - ключ для доступа к сервису</li>
                </ol>
            </li>
            <li>
                Выводить поля для ввода
                <ol>
                    <li><code>Области</code> – Добавляет поле с именем «region» для ввода названия области</li>
                    <li><code>Района</code> – Добавляет поле с именем «district» для ввода названия района</li>
                    <li><code>Населённого пункта</code> – Добавляет поле c именем «location» для ввода названия населённого пункта</li>
                    <li><code>Улицы</code> – Добавляет поле c именем «street» для ввода названия улицы</li>
                    <li><code>Дома</code> – Добавляет поле с именем «building» для ввода номера дома</li>
                </ol>
            </li>
            <li>
                Выводить скрытые поля
                <ol>
                    <li><code>Код объекта</code> – добавляет скрытое поле с именем «kladr_id», в которое по окончанию ввода адреса будет записан его код</li>
                    <li><code>Почтовый индекс</code> – добавляет скрытое поле с именем «zip_code» в которое по окончанию ввода адреса будет записан его почтовый индекс из КЛАДР</li>
                    <li><code>Подписи</code> – добавляет скрытое поле с постфиксом «_label» к каждому полю ввода в которое будет записана подпись к введённому пользователем значению (например: город, посёлок, село)</li>
                    <li><code>Сокращения подписей</code> – добавляет скрытое поле к постфиксом «_label_min» к каждому полю ввода, в которое будет записано сокращение подписи к введённому пользователем значению (г., пос., с.)</li>
                </ol>
            </li>
            <li>
                Опции
                <ol>
                    <li><code>Обновлять подписи при вводе</code> – Включает обновление подписей к полям ввода. Например, если пользователь в поле город введёт «Москва», то подпись «Населённый пункт» автоматически будет изменена на «Город»</li>
                    <li><code>Удалять значения, которых нет в КЛАДР</code> – Включает проверку ввода в поля адреса и удаление ошибочно введённых значений. Например, если пользователь введёт в поле «Населённый пункт» значение «Мухосранск», то оно будет автоматически удалено, т.к. населённого пункта «Мухосранск» в России нет.</li>
                </ol>
            </li>
            <li>
                Дополнительные параметры
                <ol>
                    <li><code>Подключить jQuery</code> – Компонент использует библиотеку jQuery, поэтому если она не используется у вас на сайте включите данный пункт</li>
                    <li><code>Подключить jQuery UI</code> – Компонент использует библиотеку jQuery UI, поэтому если она не используется у вас на сайте включите данный пункт</li>
                    <li><code>Подключить тему jQuery UI</code> – Компонент использует тему jQuery UI для автодополнения адреса. Если она не используется у вас на сайте включите данный пункт</li>
                </ol>
            </li>
        </ol>
    </div>

    <div>
        <h3>Результат</h3>
        <p>
            Компонент выводит на сайт несколько текстовых и скрытых полей для ввода адреса. Компонент не генерирует формы (&lt;form&gt;&lt;/form&gt;) для отправки на сервер введённой пользователем информации!
            Это сделано для того чтобы вы без проблем могли включить поля для ввода адреса в любую другую существующую форму на вашем сайте (к примеру форму оформления заказа).
        </p>
    </div>
    <?if($embedded):?><a href="bitrix/">Bitrix</a><?endif?>

    <hr  class="delimiter"/>

</div>
</div>

